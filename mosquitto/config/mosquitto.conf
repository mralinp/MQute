# Allow local persistence
persistence true
persistence_location /mosquitto/data/

log_dest file /mosquitto/log/mosquitto.log

# Auth settings
allow_anonymous false
password_file /mosquitto/password/passwd

# Insecure MQTT listener (optional)
listener 1883

# Secure MQTT with TLS
listener 8883
cafile /mosquitto/certs/ca.crt
certfile /mosquitto/certs/server.crt
keyfile /mosquitto/certs/server.key
require_certificate false